<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Thales PR</title>

        <!-- Bootstrap core CSS -->
        <link href="./bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <link href="./bootstrap-3.3.6-dist/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="style.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <!--Inclusion pour le Leap Motion-->
        <script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
        <script src="http://js.leapmotion.com/0.2.0/leap.min.js"></script>
        <script src="https://code.jquery.com/jquery-2.1.0.min.js"?></script>
        <script type="text/javascript" src="./scripts/donnees_leap.js"></script>

        <script>           
            //Gère les initialisations des boutons
            $(document).ready(function()
            {
                displayData = true;
                circle1 = $("#circle1");
                circle2 = $("#circle2");
                rect1 = $("#rect1");
                rect2 = $("#rect2");

            });

            //Chargement des positions des postits à partir du localStorage
            var monobjet_json = localStorage.getItem("positions1");
            if(monobjet_json != null)
            {
                positions1 = JSON.parse(monobjet_json);
                plane1 = createPlane(plane1,positions1);
            }
            monobjet_json = localStorage.getItem("positions2");
            if(monobjet_json != null)
            {
                positions2 = JSON.parse(monobjet_json);
                plane2 = createPlane(plane2,positions2);
            }
        </script>

        <div class="site-wrapper">
            <div class="site-wrapper-inner">
                <div class="cover-container">
                    <div class="masthead clearfix">
                        <div class="inner">
                            <h1 class="masthead-brand">Interaction</h1>
                        </div>
                    </div>
              
                    <div class="col-md-12">
                        <div class="col-md-1">
                        </div>

                        <div class="inner cover col-md-10">
                            <h2 class="cover-heading">Etape 2</h2>
                            <p class="lead">Nous allons passer à la deuxième étape.</br>Vous n'avez plus de boutons sur l'interface tactile, vous devez cliquer sur les post-it placés dans l'habitacle. Vous pouvez vous entrainer à appuyer sur les post-its grâce à la visualisation ci-dessous.</br>Quand vous êtes prêt, appuyez sur Continuer.</p>
                            <a href="#" onclick="next()" class="btn btn-lg btn-default">Continuer</a>
                        </div>

                        <div class="col-md-1">
                        </div>
                    </div>

                    <div class="col-md-12 nopadding">
                        <div class="col-md-6 nopadding">
                            <svg id="myCanvas" width="200" height="200" background="green">
                                <rect id ="rect1" width="200" height="200" fill="#F7230C" opacity="0.9"/>
                                <circle id="circle1" cx="100" cy="100" r="8" stroke="black" stroke-width="3" fill="black" opacity="0.8"/>
                                <text x="62" y="20" fill="black">Interface 1</text>
                            </svg>

                            <svg id="myCanvas2" width="200" height="200" background="green">
                                <rect id ="rect2" width="200" height="200" fill="#F7230C" opacity="0.9"/>
                                <circle id="circle2" cx="100" cy="100" r="8" stroke="black" stroke-width="3" fill="black" opacity="0.8"/>
                                <text x="62" y="20" fill="black">Interface 2</text>
                            </svg>
                        </div>

                        <div class="col-md-6 nopadding">
                            <div class="col-md-12">
                                <div class="col-md-4 nopadding">
                                    <h4><b>Frame data</b></h4>
                                    <div id="frameData"></div>
                                    <div style="clear:both;"></div>
                                </div>

                                <div class="col-md-8 nopadding">
                                    <h4><b>Hand data:</b></h4>
                                    <div id="handData"></div>
                                    <div style="clear:both;"></div>
                                    </div>
                                </div>

                                <br>

                                <div class="col-md-12 nopadding">
                                    <h4><b>Finger data:</b></h4>
                                    <div id="pointableData"></div>
                                    <div style="clear:both;"></div>
                                </div>
                        </div>
                    </div>
            </div>
          </div>
        </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="./bootstrap-3.3.6-dist/js/jquery.min.js"><\/script>')</script>
    <script src="./bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./bootstrap-3.3.6-dist/js/ie10-viewport-bug-workaround.js"></script>
    <script type="text/javascript">

    
    function next() {
    	var parameters = location.search.substring(1).split("&");
	    var temp = parameters[0].split("=");
	    var pseudo = unescape(temp[1]);
	    temp = parameters[1].split("=");
		var score_tactile = unescape(temp[1]);
	    temp = parameters[2].split("=");
		var compteur_tactile = unescape(temp[1]);
		document.location.href = 'test_leap.html?pseudo='+pseudo+'&score_tactile='+score_tactile+'&compteur_tactile='+compteur_tactile;
	
    }

    </script>
  </body>
</html>
